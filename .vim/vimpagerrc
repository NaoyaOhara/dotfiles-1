set encoding=utf-8
scriptencoding utf-8

if &compatible
  " vint: -ProhibitSetNoCompatible
  set nocompatible               " Be iMproved
  " vint: +ProhibitSetNoCompatible
endif

let g:is_mac = has('mac')
let g:is_win = has('win32') || has('win64')

if len($H)
  let g:home = expand('$H')
  set runtimepath-=~/.vim
  set runtimepath+=$H/.vim
elseif len($USERPROFILE)
  let g:home = expand('$USERPROFILE')
else
  let g:home = expand('~')
endif

let g:vim_home = g:home . (g:is_win ? '/vimfiles' : '/.vim')
let g:rc_dir = g:vim_home . '/rc'

augroup MyAutoCmd
  autocmd!
augroup END

function s:load_rc(file)
  execute 'source ' . g:rc_dir . '/' . a:file . '.vim'
endfunction

call s:load_rc('dein')                " プラグインの読み込み

if dein#tap('vim-colors-solarized')
  colorscheme solarized

  augroup SetSearchColor
    autocmd!
    autocmd VimEnter * hi! link Search IncSearch
  augroup END
endif
set background=light

set t_ut=

nnoremap <C-D> 3<C-D>
nnoremap <C-U> 3<C-U>
nmap <ESC><ESC> ;nohlsearch<CR><ESC>

set t_Co=256
set termencoding=utf-8
set hlsearch
if ! (has('gui_macvim') && has('kaoriya'))
  set fileencodings=ucs-bom,utf-8,eucjp,cp932,ucs-2le,latin1,iso-2022-jp
endif
set dir=/tmp
set backupdir=/tmp
set undodir=/tmp
set ttymouse=sgr
set mouse=a
set display=uhex
set clipboard=autoselectml
set diffopt=filler,vertical,iwhite
set synmaxcol=0
set title
set titleold=bash
set titlestring=%t%(\ %M%)%(\ (%{expand(\"%:~:.:h\")})%)%(\ %a%)
set ambiwidth=single
set list                 " 空白の可視化
set listchars=tab:›\ ,trail:␣,eol:჻,extends:»,precedes:«,nbsp:¯
set tabstop=2       " 画面上でタブ文字が占める幅
set softtabstop=2   " タブキーやバックスペースキーでカーソルが動く幅
set shiftwidth=2    " 自動インデントや <<, >> でずれる幅
set laststatus=0

let g:vimpager_passthrough = 1

if exists('g:vimpager.enabled')
  if exists('g:vimpager.ptree') && g:vimpager.ptree[-2] ==# 'wman'
    set ft=man
  endif
endif

" vim:ft=vim et:
