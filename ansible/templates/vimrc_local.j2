function! s:SetGithubIssuesVariables()
  let g:github_same_window     = 1
  let g:gissues_lazy_load      = 1
  let g:gissues_async_omni     = 1
  let g:github_upstream_issues = 1
  if match(getcwd(), '{{ secret_office.repo_paths[0] }}') > -1 || match(getcwd(), '{{ secret_office.repo_paths[1] }}') > -1
    let g:github_access_token     = '{{ secret_office.github_token.gissues }}'
    let g:github_api_url          = '{{ secret_office.github_api_path }}'
    let g:github_issues_urls      = {{ secret_office.github_issues_urls | pprint }}
  else
    let g:github_access_token = '{{ secret_github_gissues_token }}'
    let g:github_api_url      = 'https://api.github.com/'
    let g:github_issues_urls  = ['github.com:', 'github.com/']
  endif
endfunction

augroup github_issue
  autocmd!
  autocmd BufEnter * call <SID>SetGithubIssuesVariables()
augroup END

if index({{ secret_office.hostnames | pprint }}, hostname()) > -1
  let g:gista#gist_api_url = '{{ secret_office.github_api_path }}'
  let g:gista#github_user = '{{ secret_office.github_user }}'
  let g:gista#get_with_authentication = 1
else
  let g:gista#gist_api_url = 'https://api.github.com'
endif
